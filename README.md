## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏.
–ü–æ–∑–≤–æ–ª—è–µ—Ç:

- –ü–æ–ª—É—á–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º (–∑–¥–∞–Ω–∏–µ, –≤–∏–¥ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –≥–µ–æ–ø–æ–∑–∏—Ü–∏—è)
- –ü–æ–ª—É—á–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–æ ID
- –ò—Å–∫–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

–°—Ç–µ–∫:

- `FastAPI`
- `PostgreSQL` + `PostGIS`
- `Alembic` –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- `Poetry` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ `.env`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```dotenv
DB_USER=postgres
DB_PASS=postgres
DB_NAME=app_db
DB_PORT=5432

API_KEY=supersecretkey
```

2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```commandline
docker compose up -d
```

FastAPI –¥–æ—Å—Ç—É–ø–µ–Ω: http://localhost:8000

Swagger UI: http://localhost:8000/docs

PgAdmin: http://localhost:5050

### üìë –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

```http request
GET /organizations
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã Query (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

- `building_id` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∑–¥–∞–Ω–∏—é
- `name` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- `activity_id` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏


2. –ü–æ–ª—É—á–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–æ ID

```http request
GET /organizations/{id}
```

3. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Ä–∞–¥–∏—É—Å–µ –æ—Ç —Ç–æ—á–∫–∏

```http request
GET /organizations/in_radius
```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã Query:

- `latitude` ‚Äî —à–∏—Ä–æ—Ç–∞ —Ü–µ–Ω—Ç—Ä–∞
- `longitude` ‚Äî –¥–æ–ª–≥–æ—Ç–∞ —Ü–µ–Ω—Ç—Ä–∞
- `radius` ‚Äî —Ä–∞–¥–∏—É—Å –≤ –º–µ—Ç—Ä–∞—Ö

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ñ–∏–ª—å—Ç—Ä—ã `building_id`, `activity_root_id`

4. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ bounding box

```http request
GET /organizations/in_bbox
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã Query:

- `sw_lat`, `sw_lon` ‚Äî —é–≥–æ-–∑–∞–ø–∞–¥–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- `ne_lat`, `ne_lon` ‚Äî —Å–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ñ–∏–ª—å—Ç—Ä—ã `building_id`, `activity_root_id`

5. –ü–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```http request
GET /organizations/search_by_activity/{activity_root_id}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤—Å–µ—Ö –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏—Ö.

### ER - –¥–∏–∞–≥—Ä–∞–º–º–∞ –ë–î

![–¢–óSecunda](https://github.com/user-attachments/assets/2981e1be-b6c7-48ef-9262-2b201824397b)

